{"swagger":"2.0","info":{"title":"Compilation Service","description":"Compiler for persistent CAT resources","version":""},"basePath":"/compilation_service","consumes":["application/json","application/xml","text/xml","application/gob","application/x-gob"],"produces":["application/json","application/xml","text/xml","application/gob","application/x-gob"],"paths":{"/health-check":{"get":{"description":"Health check","operationId":"health#check#1","responses":{"200":{"$ref":"#/responses/OK"},"503":{"$ref":"#/responses/ServiceUnavailable"}}}},"/health-report":{"get":{"description":"Health report","operationId":"health#report#1","responses":{"200":{"$ref":"#/responses/OK"}}}},"/v1/projects/{projectID}/actions/compile":{"post":{"description":"Compile the given CAT source without persistence","operationId":"project#compile","parameters":[{"name":"projectID","in":"path","description":"Project ID","required":true,"type":"string"},{"name":"payload","in":"body","description":"Payload for compiling a CAT file","required":true,"schema":{"$ref":"#/definitions/CompileProjectPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/RightscaleCompilationCompile"}},"422":{"$ref":"#/responses/UnprocessableEntity"}}}},"/v1/projects/{projectID}/actions/remove_package":{"post":{"description":"Remove a Package Name from Known Packages","operationId":"project#remove_package","parameters":[{"name":"name","in":"query","description":"Package name","required":true,"type":"string"},{"name":"projectID","in":"path","description":"Project ID","required":true,"type":"string"}],"responses":{"204":{"$ref":"#/responses/NoContent"},"404":{"$ref":"#/responses/NotFound"}}}},"/v1/projects/{projectID}/compilation_jobs":{"post":{"description":"Create a new compilation job","operationId":"compilationJob#create","parameters":[{"name":"projectID","in":"path","description":"Project ID","required":true,"type":"string"},{"name":"payload","in":"body","description":"Payload for creating a compilation job","required":true,"schema":{"$ref":"#/definitions/CreateCompilationJobPayload"}}],"responses":{"202":{"$ref":"#/responses/Accepted"},"422":{"$ref":"#/responses/UnprocessableEntity"}}}},"/v1/projects/{projectID}/compilation_jobs/{jobID}":{"get":{"description":"Show source text with given SHA","operationId":"compilationJob#show","parameters":[{"name":"jobID","in":"path","description":"Compilation Job ID","required":true,"type":"string"},{"name":"projectID","in":"path","description":"Project ID","required":true,"type":"string"}],"responses":{"200":{"$ref":"#/responses/OK"},"404":{"$ref":"#/responses/NotFound"},"422":{"$ref":"#/responses/UnprocessableEntity"}}}},"/v1/projects/{projectID}/compilations":{"post":{"description":"Create a new compilation from already-compiled CAT JSON","operationId":"compilation#create","parameters":[{"name":"projectID","in":"path","description":"Project ID","required":true,"type":"string"},{"name":"payload","in":"body","description":"Payload for creating a compilation resource from already-compiled CAT JSON","required":true,"schema":{"$ref":"#/definitions/CreateCompilationPayload"}}],"responses":{"201":{"$ref":"#/responses/Created"},"422":{"$ref":"#/responses/UnprocessableEntity"}}}},"/v1/projects/{projectID}/compilations/{sha}":{"get":{"description":"Show compilation with given SHA","operationId":"compilation#show","parameters":[{"name":"projectID","in":"path","description":"Project ID","required":true,"type":"string"},{"name":"sha","in":"path","description":"Compilation SHA","required":true,"type":"string"}],"responses":{"200":{"$ref":"#/responses/OK"},"404":{"$ref":"#/responses/NotFound"},"422":{"$ref":"#/responses/UnprocessableEntity"}}}},"/v1/projects/{projectID}/compilations/{sha}/actions/recompile":{"post":{"description":"Recompile any changed imports","operationId":"compilation#recompile","parameters":[{"name":"projectID","in":"path","description":"Project ID","required":true,"type":"string"},{"name":"sha","in":"path","description":"Compilation SHA","required":true,"type":"string"}],"responses":{"202":{"$ref":"#/responses/Accepted"},"404":{"$ref":"#/responses/NotFound"},"422":{"$ref":"#/responses/UnprocessableEntity"}}}},"/v1/projects/{projectID}/scheduled_compilation_jobs/{jobID}/actions/execute":{"post":{"description":"Executes a compilation job (called internally)","operationId":"scheduledCompilationJob#execute","parameters":[{"name":"jobID","in":"path","description":"Compilation Job ID","required":true,"type":"string"},{"name":"projectID","in":"path","description":"Project ID","required":true,"type":"string"},{"name":"payload","in":"body","description":"Payload for executing a compilation job","required":true,"schema":{"$ref":"#/definitions/ExecuteScheduledCompilationJobPayload"}}],"responses":{"200":{"$ref":"#/responses/OK"},"403":{"$ref":"#/responses/Forbidden"},"404":{"$ref":"#/responses/NotFound"},"422":{"$ref":"#/responses/UnprocessableEntity"}}}},"/v1/projects/{projectID}/sources/{sha}":{"get":{"description":"Show source text with given SHA","operationId":"source#show","parameters":[{"name":"projectID","in":"path","description":"Project ID","required":true,"type":"string"},{"name":"sha","in":"path","description":"Source SHA","required":true,"type":"string"}],"responses":{"200":{"$ref":"#/responses/OK"},"404":{"$ref":"#/responses/NotFound"},"422":{"$ref":"#/responses/UnprocessableEntity"}}}}},"definitions":{"CompileProjectPayload":{"title":"CompileProjectPayload","type":"object","properties":{"file_name":{"type":"string","description":"Name of CAT file","pattern":"^[^\\/]+$"},"source_content":{"type":"string","description":"Source CAT content"}},"description":"Payload for compiling a CAT file","required":["file_name","source_content"]},"CreateCompilationJobPayload":{"title":"CreateCompilationJobPayload","type":"object","properties":{"file_name":{"type":"string","description":"Name of CAT file","pattern":"^[^\\/]+$"},"source_content":{"type":"string","description":"Source CAT content"}},"description":"Payload for creating a compilation job","required":["file_name","source_content"]},"CreateCompilationPayload":{"title":"CreateCompilationPayload","type":"object","properties":{"compilation_content":{"type":"string","description":"Compiled CAT JSON content"},"file_name":{"type":"string","description":"Name of CAT file","pattern":"^[^\\/]+$"}},"description":"Payload for creating a compilation resource from already-compiled CAT JSON","required":["file_name","compilation_content"]},"ExecuteScheduledCompilationJobPayload":{"title":"ExecuteScheduledCompilationJobPayload","type":"object","properties":{"token":{"type":"string","description":"Compilation Job Token (passed internally)"}},"description":"Payload for executing a compilation job","required":["token"]},"RightscaleCompilationCompilation":{"title":"Mediatype identifier: application/vnd.rightscale.compilation.compilation","type":"object","properties":{"compilation_content":{"type":"string","description":"Compiled CAT JSON content","example":"Rerum qui nobis provident voluptatem."},"created_at":{"type":"string","description":"Date of creation in RFC3339 format","example":"2016-03-02T15:58:19-08:00","format":"date-time"},"dependencies":{"type":"array","items":{"example":{"alias":"Dolorem repellat perferendis.","name":"Ut odio.","package":"Similique dolorem quaerat ullam.","short_description":"Non facilis id qui.","source_href":"Cupiditate cum veniam error ut."},"$ref":"#/definitions/RightscaleCompilationDependency"},"description":"Dependencies","example":[{"alias":"Debitis voluptatum.","name":"Laudantium eum nulla laboriosam aut.","package":"Veniam voluptates est in velit soluta qui.","short_description":"Beatae culpa nihil tempora at nobis sint.","source_href":"Qui suscipit."},{"alias":"Nihil velit.","name":"Ea nemo.","package":"Voluptatum in.","short_description":"Occaecati doloremque assumenda facere ut.","source_href":"Sit ad ut dolor."}]},"href":{"type":"string","description":"Hypertext Reference without Host Name","example":"Est et assumenda sed."},"id":{"type":"string","description":"Identifier","example":"Optio eum est exercitationem nam quidem."},"source_href":{"type":"string","description":"Associated Source href","example":"Aut numquam quaerat iusto ex totam iusto."}},"description":"A compilation resource","example":{"compilation_content":"Deleniti quia cumque qui earum iusto pariatur.","created_at":"Corrupti dolore ut culpa excepturi.","dependencies":[{"alias":"Suscipit ut.","name":"Ipsum corporis magnam est ut.","package":"Qui inventore officia.","short_description":"Ipsa unde placeat cumque ut ut odit.","source_href":"Sed quia aut ea vel quidem."},{"alias":"Libero consectetur qui.","name":"Odio dolor tempore sapiente est.","package":"Quidem iste quia voluptatum.","short_description":"Quia quaerat soluta labore incidunt eveniet dicta.","source_href":"Ullam dolor dolore libero excepturi rerum."}],"href":"Recusandae mollitia officiis.","id":"Rem et unde omnis qui eos.","source_href":"Amet eum ut voluptatem iusto."},"required":["href","id","source_href","created_at","compilation_content"]},"RightscaleCompilationCompile":{"title":"Mediatype identifier: application/vnd.rightscale.compilation.compile","type":"object","properties":{"compilation_content":{"type":"string","description":"Compiled CAT JSON content","example":"Perferendis eaque."},"dependencies":{"type":"array","items":{"example":{"alias":"Sunt repellendus quia est provident dolores enim.","name":"Sint libero fugiat.","package":"Magnam iure doloremque.","short_description":"Recusandae voluptatum expedita quia nostrum libero.","source_href":"Consequatur et adipisci culpa."},"$ref":"#/definitions/RightscaleCompilationDependency"},"description":"Dependencies","example":[{"alias":"Voluptas atque autem vitae fugit voluptatem et.","name":"Ad quae sequi autem accusantium aspernatur ullam.","package":"Et id fuga dolore enim commodi amet.","short_description":"Exercitationem et facilis sequi temporibus.","source_href":"Sit et."}]},"language_version":{"type":"string","description":"Language version","example":"Sed fuga eos ut et molestiae quidem."},"long_description":{"type":"string","description":"Long CAT description or empty","example":"Cum quisquam quisquam aliquid."},"name":{"type":"string","description":"Name of the source CAT from metadata","example":"Sint consequatur et."},"package":{"type":"string","description":"Package from source or empty","example":"Numquam eligendi."},"short_description":{"type":"string","description":"Short CAT description or empty","example":"Voluptatem consequatur unde et dicta consequuntur similique."}},"description":"A compile response","example":{"compilation_content":"Deserunt natus.","dependencies":[{"alias":"Excepturi et praesentium consequuntur.","name":"Quia nam.","package":"Nesciunt quo.","short_description":"Officiis iste non doloremque voluptatem eos sit.","source_href":"In possimus quia voluptates exercitationem."},{"alias":"Amet et voluptas ut blanditiis dolores est.","name":"Eos ratione et inventore architecto qui.","package":"Distinctio incidunt dicta.","short_description":"Enim accusamus.","source_href":"Eveniet aliquid unde et."}],"language_version":"Hic est sunt.","long_description":"Delectus laudantium unde nihil quibusdam.","name":"Quia laborum numquam.","package":"Et autem soluta dicta modi perferendis.","short_description":"Maiores qui ut unde."},"required":["name","language_version","compilation_content"]},"RightscaleCompilationDependency":{"title":"Mediatype identifier: application/vnd.rightscale.compilation.dependency","type":"object","properties":{"alias":{"type":"string","description":"Alias or empty for indirect dependency","example":"Quos laborum autem deleniti."},"name":{"type":"string","description":"Name","example":"Dolorum sed ratione distinctio et."},"package":{"type":"string","description":"Package name from source or empty","example":"Doloremque possimus cupiditate."},"short_description":{"type":"string","description":"Short CAT description or empty","example":"Et praesentium pariatur nihil ut."},"source_href":{"type":"string","description":"Associated Source href","example":"Fugit sed itaque cumque impedit est."}},"description":"A compilation dependency","example":{"alias":"Cum qui illo vitae molestiae dolorum deserunt.","name":"Vel officia voluptatem eveniet facilis molestiae atque.","package":"Enim id praesentium unde corrupti consequatur.","short_description":"Dolores qui.","source_href":"Voluptatem autem architecto voluptatem ipsum quo."},"required":["name","package","source_href"]}},"responses":{"Accepted":{"description":"Accepted"},"Created":{"description":"Created"},"Forbidden":{"description":"Forbidden"},"NoContent":{"description":"No Content"},"NotFound":{"description":"Not Found"},"OK":{"description":"OK","schema":{"$ref":"#/definitions/RightscaleCompilationCompilation"}},"ServiceUnavailable":{"description":"Service Unavailable"},"UnprocessableEntity":{"description":"Compilation failure"}}}
